[pico_common]
platform = https://github.com/maxgerhardt/platform-raspberrypi.git
board = rpipico2w
framework = arduino
board_build.core = earlephilhower

build_flags =
    ${common.build_flags}
    -DARDUINO_ARCH_RP2040
    -DPIO_FRAMEWORK_ARDUINO_ENABLE_FREERTOS
    -DPIO_FRAMEWORK_ARDUINO_ENABLE_RTTI
    -fno-exceptions

lib_deps =
    ${common.lib_deps}

monitor_speed = ${common.monitor_speed}

[env:pico2w]
extends = pico_common

build_flags =
    ${pico_common.build_flags}
    -DPICO2_W
    -DWIFI_ENABLED
    -DPICOLED_VERSION=\"0.1.0\"

lib_deps =
    ${pico_common.lib_deps}

[env:pico2w-virtual]
extends = pico_common
build_src_filter =
    +<examples-virtual/rp2040-ws2812x-busdriver/main.cpp>

[env:pico2w-virtual-runtime-config]
extends = pico_common
build_src_filter =
    +<examples-virtual/rp2040-runtime-config-factory/main.cpp>